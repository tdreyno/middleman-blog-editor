<script type='text/x-handlebars' data-template-name='application'>
  <div class="row">
    <div class="twelve columns">
      <h2><a {{action goHome this href=true}}><%= @options.admin_title %></a></h2>
      <hr />
    </div>
  </div>

  <div class="row">
    {{outlet body}}
  </div>

</script>

<script type='text/x-handlebars' data-template-name='articles'>
  <div class="twelve columns">
    <div class="row">
      <div class="eight columns">
        <h2>All Articles</h2>
      </div>
      <div class="four columns">
        <p class="right"><button class="button small foundicon-plus">Create New Article</button></p>
      </div>
    </div>

    <hr>

    <table width="100%">
      <tr>
        <th>Title</th>
        <th>Date</th>
        <th>Tags</th>
        <th>Published</th>
        <th>Actions</th>
      </tr>
      {{#collection contentBinding="controllers.articlesController" tagName="tbody"}}
        <td>
          {{view.content.title}}
        </td>
        <td>
          {{view.content.dateString}}
        </td>
        <td>
          {{#each view.content.tagsArray}}
            <span class="label">{{this}}</span>
          {{/each}}
        </td>
        <td>
          {{#if view.content.published}}
            <span class="foundicon-checkmark"></span>
          {{else}}
            <span class="foundicon-error"></span>
          {{/if}}
        </td>
        <td>
          <a class="button tiny" {{action editArticle view.content href=true}}>
            <span class="foundicon-edit"></span> Edit
          </a>
          <a class="button tiny alert" onclick="confirm('Sure?');">
            <span class="foundicon-remove"></span> Delete
          </a>
        </td>
      {{/collection}}
    </table>
  </div>
</script>

<script type='text/x-handlebars' data-template-name='edit-article'>
  <div class="twelve columns">
    <h3>Edit Article</h3>

    <form class="custom">

      <div class="row">
        <div class="six columns">
          <label>Title</label>
          {{view Ember.TextField valueBinding="title"}}

          <label>Date</label>
          {{view App.DateField valueBinding="dateString"}}

          <label for="published">{{view Ember.Checkbox checkedBinding="published" id="published" classNames="hidden"}}<span class="custom checkbox"></span> Published?</label>
        </div>

        <div class="six columns">
          <label>URL</label>
          {{view Ember.TextField valueBinding="permalink" disabled="true"}}

          <label>Tags</label>
          {{view Ember.TextField valueBinding="tags" disabled="true"}}

          {{#if frontMatterPairs.length}}
            <label>FrontMatter <span class="label secondary">readonly</span></label>
            <ol>
              {{#each frontMatterPairs}}
                <li>{{key}}: {{value}}</li>
              {{/each}}
            </ol>
          {{/if}}
        </div>
      </div>

      <label>Content</label>
      {{view App.CKEditorView valueBinding="body"}}

      <hr>
      <div class="row">
        <div class="twelve columns">
          <p class="left"><a class="button alert" {{action goHome this href=true}}>Cancel</a></p>
          <p class="right"><button class="button success">Save Article</button></p>
        </div>
      </div>

    </form>
  </div>
</script>